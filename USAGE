=======================================
Usage
=======================================
The initramfs script is very easy to use.

1. Creating the initramfs

Just clone it or extract it into a directory and cd into it.

Run the script by running: ./createInit
* It must be run as root since root is the only user that can run `depmod`.

* If the script doesn't run and gives you a permission denied message,
  give it execution permission: `chmod +x createInit` and then try again.

Select the option that you want, and tell it which kernel you want to use.

After that the required files will be gathered and packed into an initramfs.

You will find the initramfs in the directory that you are currently in.
Copy the file to your boot directory and name it whatever you want.

2. Setting it up in the bootloader

If my initramfs is called: initrd-3.7.1-ALL.img and my bootloader is extlinux,
I would do the following

(open up the bootloader config (for extlinux it's extlinux.conf)

`vim /boot/extlinux/extlinux.conf`

and add a new entry:

LABEL funtoo
	MENU LABEL Funtoo [3.7.5-ALL]
	LINUX /vmlinuz-3.7.5-ALL
	INITRD /initrd-3.7.5-ALL.img
	APPEND root=rpool/ROOT/funtoo
	
This would mount my `rpool/ROOT/funtoo` dataset. `root` is the kernel parameter you
need to declare so that the initramfs knows which dataset you want to boot into.

=======================================
Kernel Options:
=======================================
ZFS:
root - ZFS root name
	example: APPEND root=rpool/ROOT/funtoo

arcmax - Sets the max ARC cache size (in bytes)
	example: APPEND arcmax=536870912
	 this sets the arcmax to 512MB

So a complete line could look like this:
 APPEND arcmax=536870912 root=rpool/ROOT/funtoo
 
 Which would mount the `rpool/ROOT/funtoo` ZFS dataset with the arc_max being 512 MB

nocache - Ignores zpool.cache. Useful for booting if you have an old
         cache file that is preventing you from booting. Make sure to regenerate a new
	 initrd so you don't have to keep using this option.

	 example: APPEND root=rpool/ROOT/funtoo nocache

LUKS + ZFS:
Follow the same instructions as above, but also add "enc_root=" to your
kernel line.

enc_root - Encrypted root drive
	example: APPEND enc_root=/dev/sda2

OTHER:
recover - Use this if you want the initrd to throw you into a rescue shell.
	  Useful for recovery purposes.

	  example: APPEND recover
